extends layout

block content
    .main-part.pageTitle
        h1.pageTitle Edycja profilu użytkownika: #{ucfirst(userP.username)}
    .main-part.subPage
        .userProfileTitle
            h2 Informacje
        .userInfo
            if allowEdit
                a.btn.btn-edit.btn-right(href="/edit/"+userP._id) Edytuj
            -var typeTranslate = {'moderator': 'Moderator','admin': 'Administrator','user': 'Użytkownik','journalist':'Redaktor'}
            -var type = typeTranslate[userP.type]
            -var d = ('0' + userP.registerDate.getDate()).slice(-2)
            -var m = ('0' + (userP.registerDate.getMonth() + 1)).slice(-2)
            -var y = userP.registerDate.getFullYear()
            form(action='/users/edit/'+userP._id method='POST')
                .infoRow
                    span.info Rejestracja
                    span.value #{d}.#{m}.#{y}
                .infoRow
                    span.info Ranga
                    if superEdit
                        span.value 
                            select(name='type')
                                each rank, i in ranks
                                    if rank._id.toString() == userP.type.toString()
                                        option(value=rank._id selected='selected')= translatedRanks[rank.name]
                                    else
                                        option(value=rank._id)= translatedRanks[rank.name]
                    else
                        span(class="value type-"+userP.type) #{type}
                .infoRow
                    span.info Email 
                    span.value 
                        input(type='text' name='email' value =userP.email)
                .btn-right
                    input.btn.btn-edit(type='submit' value='Edytuj')
                    a.btn.btn-submit(href="/users/"+userP._id) Wróć
